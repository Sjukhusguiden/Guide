<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Guide Test</title>

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 40px;
  background: #f2f2f2;
}

.box {
  background: white;
  padding: 40px;
  border-radius: 20px;
  font-size: 32px;
}

.small {
  margin-top: 20px;
  font-size: 16px;
  color: #666;
}

/* ===== Mobil / portrait ===== */
@media (max-width: 768px) {

  body {
    padding: 20px;
  }

  h1 {
    font-size: 26px;
  }

  .box {
    padding: 30px 20px;
    font-size: 22px;
    border-radius: 16px;
  }

  .small {
    font-size: 14px;
  }
}
</style>
</head>

<body>

<h1>ğŸ“ QR Navigation Test</h1>
<div class="box" id="instruction">Laddar...</div>
<div class="small" id="debug"></div>

<script>
// =======================
// RUTTER MED STARTPUNKTER
// =======================
const routes = {
  entrÃ©A: {
    T4: {
    1: "ğŸ©» T4: Ta trappan up 2 vÃ¥ningar",
    2: "ğŸ©» T4: GÃ¥ rakt fram till trappan lÃ¤ngst bort i korridoren",
    3: "ğŸ©» T4: Ta rampen up till nÃ¤rmaste ingÃ¥ng till vÃ¤nster",
    4: "ğŸ©» T4: Du Ã¤r nu framme i korridoren med T4 klassrummen"
    },
    akuten: {
      1: "ğŸš‘ Akuten: GÃ¥ rakt fram frÃ¥n entrÃ© A",
      2: "ğŸš‘ Akuten: SvÃ¤ng hÃ¶ger",
      3: "ğŸš‘ Akuten: FÃ¶lj rÃ¶da linjen",
      4: "ğŸš‘ Akuten: Du Ã¤r framme"
    }
  },

  entrÃ©B: {
    C303: {
      1: "ğŸ§ª C303: GÃ¥ rakt fram frÃ¥n entrÃ© B",
      2: "ğŸ§ª C303: FÃ¶rbi kafeterian",
      3: "ğŸ§ª C303: Ta trappan upp",
      4: "ğŸ§ª C303: Du Ã¤r framme"
    }
  }
};

// =======================
// URL + LAGRING
// =======================
const params = new URLSearchParams(window.location.search);
let step = parseInt(params.get("step") || "1");

// Spara ny rutt / destination om de finns
if (params.get("route")) {
  localStorage.setItem("route", params.get("route"));
}
if (params.get("dest")) {
  localStorage.setItem("dest", params.get("dest"));
}

// LÃ¤s sparade vÃ¤rden
const route = localStorage.getItem("route");
const dest = localStorage.getItem("dest");

// =======================
// VISA INSTRUKTION
// =======================
const instructionDiv = document.getElementById("instruction");
const debugDiv = document.getElementById("debug");

if (!route || !dest) {
  instructionDiv.textContent =
    "ğŸ“ Skanna en start-QR-kod i receptionen";
}
else {
  const routeData = routes[route]?.[dest];

  if (!routeData) {
    instructionDiv.textContent = "âŒ Ingen vÃ¤g hittades";
  }
  else {
    const maxStep = Math.max(...Object.keys(routeData).map(Number));

    if (step < 1) step = 1;
    if (step > maxStep) step = maxStep;

    instructionDiv.textContent = routeData[step];
    debugDiv.textContent =
      "Start: " + route + " | Destination: " + dest + " | Steg: " + step;
  }
}
</script>
</body>
</html>



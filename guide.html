<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>QR Guide Test</title>
<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 40px;
  background: #f2f2f2;
}
.box {
  background: white;
  padding: 40px;
  border-radius: 20px;
  font-size: 32px;
}
.small {
  margin-top: 20px;
  font-size: 16px;
  color: #666;
}
</style>
</head>
<body>

<h1>üìç QR Navigation Test</h1>
<div class="box" id="instruction">Laddar...</div>
<div class="small" id="debug"></div>

<script>
// Rutter f√∂r tv√• mottagningar
const routes = {
  rontgen: {
    1: "G√• rakt fram till korsningen",
    2: "G√• v√§nster vid n√§sta korridor",
    3: "Ta hissen till v√•ning 2",
    4: "Du √§r framme vid R√∂ntgen"
  },
  akuten: {
    1: "G√• rakt fram till korsningen",
    2: "Sv√§ng h√∂ger i korsningen",
    3: "F√∂lj r√∂da linjen",
    4: "Du √§r framme vid Akuten"
  }
};

const params = new URLSearchParams(window.location.search);
const step = params.get("step");
const destParam = params.get("dest");

// Spara destination om den finns i URL
if (destParam) {
  localStorage.setItem("dest", destParam);
}

// H√§mta sparad destination
const dest = localStorage.getItem("dest");

const instructionDiv = document.getElementById("instruction");
const debugDiv = document.getElementById("debug");

if (!dest) {
  instructionDiv.textContent =
    "üìç Skanna en start-QR-kod i receptionen";
}
else if (routes[dest] && routes[dest][step]) {
  instructionDiv.textContent = routes[dest][step];
  debugDiv.textContent = "Destination: " + dest + " | Steg: " + step;
}
else {
  instructionDiv.textContent =
    "‚ùå Fel QR-kod eller saknat steg";
}
</script>

</body>
</html>
